# PRD: AI ä¸“å®¶è¯„å®¡å›¢æµç¨‹é‡æ„ä¼˜åŒ–ä¸è½åœ°

> **ç‰ˆæœ¬**: 1.0
> **çŠ¶æ€**: Drafting
> **ä½œè€…**: Antigravity
> **å…³è”æ–‡æ¡£**: `docs/ai_expert_review_board_workflow_optimized.md` (æµç¨‹å›¾æº)

---

## 1. é¡¹ç›®èƒŒæ™¯ä¸ç›®æ ‡ (Background & Goals)

### 1.1 èƒŒæ™¯ (Context)
å½“å‰çš„ AgentOS ç ”å‘æµç¨‹è™½ç„¶å…·å¤‡åŸºæœ¬çš„ `PRD -> Code` èƒ½åŠ›ï¼Œä½†åœ¨éœ€æ±‚è´¨é‡æ§åˆ¶å’ŒæŠ€æœ¯å¯è¡Œæ€§è¯„ä¼°ç¯èŠ‚å­˜åœ¨æ˜æ˜¾çŸ­æ¿ï¼š
1.  **ç¼ºä¹å‰ç½®è¿‡æ»¤**ï¼šæ— è®ºéœ€æ±‚å¤šä¹ˆç¦»è°±æˆ–æ¨¡ç³Šï¼ŒPM Agent éƒ½ä¼šå°è¯•ç”Ÿæˆ PRDï¼Œæµªè´¹ Token ä¸”äº§å‡ºä½è´¨ã€‚
2.  **ç¼ºå°‘æ·±åº¦è¯„å®¡**ï¼šç¼ºä¹å¤šè§†è§’ï¼ˆä½“éªŒã€ä¸šåŠ¡ã€æ‰¹åˆ¤ã€æŠ€æœ¯ï¼‰çš„å¹¶å‘è¯„å®¡æœºåˆ¶ï¼Œå®¹æ˜“äº§ç”Ÿç›²ç‚¹ã€‚
3.  **æŠ€æœ¯é£é™©æ»å**ï¼šå¾€å¾€åœ¨ä»£ç ç”Ÿæˆé˜¶æ®µæ‰å‘ç°æŠ€æœ¯ä¸å¯è¡Œæˆ–æˆæœ¬è¿‡é«˜ï¼Œå¯¼è‡´è¿”å·¥ã€‚

### 1.2 ç›®æ ‡ (Goals)
åŸºäºæœ€æ–°çš„ `ai_expert_review_board_workflow_optimized.md` æµç¨‹å›¾ï¼Œé‡æ„ç°æœ‰çš„éœ€æ±‚åˆ†æä¸è¯„å®¡ç¯èŠ‚ï¼Œå¼•å…¥â€œä¸“å®¶è¯„å®¡å›¢â€æœºåˆ¶ï¼Œå®ç°ä»¥ä¸‹ç›®æ ‡ï¼š
1.  **æ™ºèƒ½æ‹’å• (Smart Reject)**ï¼šé€šè¿‡å¯è¡Œæ€§æ£€æŸ¥å’Œæ¸…æ™°åº¦æ£€æŸ¥ï¼Œåœ¨æ—©æœŸæ‹¦æˆªä½è´¨éœ€æ±‚ã€‚
2.  **å¤šç»´è¯„å®¡ (Parallel Review)**ï¼šå¼•å…¥ UXã€Domainã€Criticã€Tech å››å¤§ä¸“å®¶è§’è‰²å¹¶å‘è¯„å®¡ã€‚
3.  **æŠ€æœ¯å…œåº• (Tech Gate)**ï¼šåœ¨ PRD ç¡®è®¤å‰å¢åŠ æˆæœ¬ä¼°ç®—ä¸å¿…è¦æ—¶çš„ POC (Proof of Concept) éªŒè¯ã€‚
4.  **è‡ªåŠ¨é—­ç¯ (Auto-Fix)**ï¼šåŸºäºè¯„å®¡æ„è§è‡ªåŠ¨ä¿®è®¢ PRDï¼Œå‡å°‘äººå·¥ä»‹å…¥ã€‚

---

## 2. æ ¸å¿ƒç”¨æˆ·æ•…äº‹ (User Stories)

| è§’è‰² | ç—›ç‚¹ / éœ€æ±‚ | æœŸæœ›ç»“æœ |
| :--- | :--- | :--- |
| **ç”¨æˆ· (User)** | æœ‰æ—¶æƒ³æ³•å¤ªå‘æ•£ï¼Œæˆ–è€…æè¿°ä¸æ¸…æ¥šï¼Œä¸å¸Œæœ› Agent ç›´æ¥çç¼–ä¹±é€ ã€‚ | Agent èƒ½åƒä¸“ä¸š PM ä¸€æ ·è¿½é—®ç»†èŠ‚ï¼Œæˆ–è€…ç›´æ¥å‘Šè¯‰æˆ‘è¿™ä¸å¯è¡Œï¼Œè€Œä¸æ˜¯æ•·è¡äº†äº‹ã€‚ |
| **ç”¨æˆ· (User)** | æ‹…å¿ƒåšå‡ºçš„åŠŸèƒ½è™½ç„¶èƒ½è·‘ï¼Œä½†æ˜¯åœ¨äº¤äº’æˆ–ä¸šåŠ¡é€»è¾‘ä¸Šæœ‰ç¡¬ä¼¤ã€‚ | æœ‰â€œä½“éªŒæ€»ç›‘â€å’Œâ€œè¡Œä¸šä¸“å®¶â€æŠŠå…³ï¼Œç¡®ä¿äº§å“ä¸ä»…èƒ½ç”¨ï¼Œè€Œä¸”å¥½ç”¨ã€ä¸“ä¸šã€‚ |
| **å¼€å‘è€… (Dev)** | ç»å¸¸é‡åˆ° PRD é‡Œçš„éœ€æ±‚æŠ€æœ¯å®ç°æˆæœ¬æé«˜ï¼Œæˆ–è€…æ ¹æœ¬æ— æ³•å®ç°ã€‚ | åœ¨å†™ä»£ç å‰ï¼Œæœ‰â€œæŠ€æœ¯ä¸“å®¶â€è¯„ä¼°å¯è¡Œæ€§ï¼Œå¿…è¦æ—¶å…ˆè·‘é€š POC å†å®šæ–¹æ¡ˆã€‚ |

---

## 3. è¯¦ç»†åŠŸèƒ½è¯´æ˜ (Detailed Implementation)

### 3.1 é˜¶æ®µä¸€ï¼šæ™ºèƒ½éœ€æ±‚å«å£« (Phase 1: The Gatekeeper)

#### 3.1.1 å¯è¡Œæ€§ä¸ä¸€è‡´æ€§æ£€æŸ¥ (Feasibility Check)
*   **è¾“å…¥**: ç”¨æˆ·åŸå§‹éœ€æ±‚ + `project_summary` (é¡¹ç›®æ ¸å¿ƒå®šä½)ã€‚
*   **é€»è¾‘**: 
    1.  åˆ¤æ–­éœ€æ±‚æ˜¯å¦ä¸¥é‡åç¦»äº§å“æ ¸å¿ƒå®šä½ï¼ˆé˜²æ­¢â€œåœ¨ç”µå•†Appé‡Œåšä¸ªæ“ä½œç³»ç»Ÿâ€ï¼‰ã€‚
    2.  åˆ¤æ–­æ˜¯å¦å­˜åœ¨æ˜æ˜¾çš„ä¼¦ç†ã€æ³•å¾‹æˆ–ç‰©ç†é™åˆ¶é£é™©ã€‚
*   **è¾“å‡º**: 
    *   `Pass`: è¿›å…¥ä¸‹ä¸€æ­¥ã€‚
    *   `Reject`: è¿”å›æ‹’ç»ç†ç”±ï¼Œå»ºè®®ç”¨æˆ·ä¿®æ”¹æˆ–æ”¾å¼ƒã€‚

#### 3.1.2 æ¸…æ™°åº¦æ£€æŸ¥ (Clarity Check)
*   **è¾“å…¥**: é€šè¿‡å¯è¡Œæ€§æ£€æŸ¥çš„éœ€æ±‚ã€‚
*   **é€»è¾‘**: è¯„ä¼°éœ€æ±‚æè¿°çš„å®Œæ•´åº¦ï¼ˆScore > 90%?ï¼‰ã€‚æ˜¯å¦åŒ…å«æ ¸å¿ƒåœºæ™¯ã€ç”¨æˆ·ç›®æ ‡ã€å…³é”®é™åˆ¶ã€‚
*   **è¾“å‡º**:
    *   `Pass`: ç”Ÿæˆ PRD åˆç¨¿ã€‚
    *   `Ask`: è¿”å›è¿½é—®åˆ—è¡¨ (Clarification Questions)ï¼Œå¼•å¯¼ç”¨æˆ·è¡¥å……ã€‚

### 3.2 é˜¶æ®µäºŒï¼šAI ä¸“å®¶è¯„å®¡å›¢ (Phase 2: The Expert Board)

æœ¬é˜¶æ®µç”± `Dispatcher` è§¦å‘ï¼Œå¹¶è¡Œè°ƒç”¨å››ä¸ª specialized agents (æˆ– prompts)ã€‚

#### 3.2.1 è§’è‰²å®šä¹‰ (Roles)

| è§’è‰² | èŒè´£ (Responsibility) | å…³æ³¨ç‚¹ (Focus) | è¾“å‡ºç‰© (Artifact) |
| :--- | :--- | :--- | :--- |
| **ğŸ•µï¸ ä½“éªŒæ€»ç›‘ (UX Director)** | æ¨¡æ‹ŸæŒ‘å‰”çš„é«˜ç«¯ç”¨æˆ· | äº¤äº’æµç¨‹æ˜¯å¦é¡ºç•…ï¼ŸUIæ˜¯å¦ç¾è§‚ï¼Ÿæ˜¯å¦å­˜åœ¨åäººç±»è®¾è®¡ï¼Ÿ | `review_ux.md` |
| **ğŸ‘¨â€ğŸ« è¡Œä¸šä¸“å®¶ (Domain Expert)** | æ¨¡æ‹Ÿèµ„æ·±ä¸šåŠ¡é¡¾é—® | ä¸šåŠ¡é€»è¾‘æ˜¯å¦é—­ç¯ï¼Ÿæ˜¯å¦ç¬¦åˆè¡Œä¸šæ ‡å‡†ï¼Ÿå•†ä¸šä»·å€¼å¦‚ä½•ï¼Ÿ | `review_domain.md` |
| **ğŸ™… æ‰¹åˆ¤è€… (The Critic)** | æ¨¡æ‹Ÿé»‘å®¢æˆ–æç«¯ç”¨æˆ· | å¯»æ‰¾é€»è¾‘æ¼æ´ã€è¾¹ç¼˜æƒ…å†µ (Edge Cases)ã€å®‰å…¨éšæ‚£ã€‚ | `review_critic.md` |
| **ğŸ‘¨â€ğŸ’» æŠ€æœ¯ä¸“å®¶ (Tech Lead)** | æ¨¡æ‹Ÿæ¶æ„å¸ˆ | æŠ€æœ¯é€‰å‹æ˜¯å¦åˆç†ï¼Ÿæ”¹åŠ¨æˆæœ¬æ˜¯å¦è¿‡é«˜ï¼Ÿç°æœ‰æ¶æ„èƒ½å¦æ”¯æ’‘ï¼Ÿ | `review_tech.md` |

#### 3.2.2 æŠ€æœ¯ä¸“å®¶çš„ç‰¹æ®Šæµç¨‹ (Tech Logic)
*   **æˆæœ¬/é¢ è¦†æ€§æ£€æŸ¥ (Cost Check)**:
    *   å¦‚æœæ”¹åŠ¨æ¶‰åŠæ ¸å¿ƒåº•å±‚æ¶æ„æˆ–æˆæœ¬ > é˜ˆå€¼ï¼Œç›´æ¥è§¦å‘ `Tech Reject`ã€‚
*   **POC åˆ¤æ–­ (POC Decision)**:
    *   å¦‚æœæŠ€æœ¯è·¯çº¿ä¸ç¡®å®šï¼ˆå¦‚â€œæ¥å…¥æœªçŸ¥ APIâ€ã€â€œä½¿ç”¨æ–°æ¡†æ¶â€ï¼‰ï¼Œè§¦å‘ **å­å·¥ä½œæµ (Sub-Workflow)**ï¼š`POC Runner`ã€‚
    *   `POC Runner` è´Ÿè´£ç¼–å†™æœ€å°éªŒè¯ä»£ç ï¼Œè¿è¡Œå¹¶è¿”å›ç»“æœ (`Success/Fail`)ã€‚
    *   æ ¹æ® POC ç»“æœæ›´æ–° `review_tech.md`ã€‚

### 3.3 é˜¶æ®µä¸‰ï¼šä»²è£ä¸è‡ªæ„ˆ (Phase 3: Aggregation & Self-Healing)

#### 3.3.1 è¯„å®¡ä»²è£ (Aggregator)
*   **è¾“å…¥**: å››ä»½è¯„å®¡æŠ¥å‘Š (`review_*.md`)ã€‚
*   **é€»è¾‘**: 
    1.  åˆå¹¶é‡å¤æ„è§ã€‚
    2.  è§£å†³å†²çªï¼ˆä¾‹å¦‚ UX è¯´è¦é…·ç‚«åŠ¨ç”»ï¼ŒTech è¯´æ€§èƒ½å¸¦ä¸åŠ¨ -> æƒè¡¡ ROIï¼Œé€šå¸¸ Tech æ‹¥æœ‰å¦å†³æƒæˆ–é™çº§å»ºè®®ï¼‰ã€‚
    3.  ç”Ÿæˆã€Šæœ€ç»ˆä¿®è®¢å»ºè®®ä¹¦ã€‹ã€‚

#### 3.3.2 è‡ªåŠ¨ä¿®è®¢ (PM Fix)
*   **è¡Œä¸º**: PM Agent è¯»å–ã€Šæœ€ç»ˆä¿®è®¢å»ºè®®ä¹¦ã€‹ï¼Œå¯¹ `PRD åˆç¨¿` è¿›è¡Œ rewriteã€‚
*   **äº§å‡º**: `PRD ç»ˆç¨¿` (v1.0)ã€‚

---

## 4. äº¤ä»˜ç‰©æ¸…å• (Deliverables)

1.  **Prompts æ›´æ–°**:
    *   æ–°å¢ `role_ux_director.md`
    *   æ–°å¢ `role_domain_expert.md` 
    *   æ–°å¢ `role_critic.md`
    *   æ–°å¢ `role_tech_lead.md`
    *   æ›´æ–° `pm_agent.md` (å¢åŠ  Gatekeeper é€»è¾‘)
2.  **Workflow å®šä¹‰**:
    *   æ–°å»º `.agent/workflows/expert-review.md` (æˆ–é›†æˆè¿› `prd-crafter-pro`)ã€‚
3.  **POC å·¥å…·é“¾**:
    *   æ”¯æŒ Agent åœ¨æ²™ç®±ç¯å¢ƒä¸­å¿«é€Ÿè¿è¡Œä¸´æ—¶ä»£ç  (Snippet Execution)ã€‚

## 5. éªŒæ”¶æ ‡å‡† (Acceptance Criteria)

1.  **æ‹¦æˆªæµ‹è¯•**: æ•…æ„æå‡ºç¦»è°±éœ€æ±‚ï¼Œç³»ç»Ÿåº”èƒ½æ‹’ç»ã€‚
2.  **æ¨¡ç³Šæµ‹è¯•**: æå‡ºæ¨¡ç³Šéœ€æ±‚ï¼Œç³»ç»Ÿåº”èƒ½è¿½é—®ç»†èŠ‚ã€‚
3.  **ä¸“å®¶æµ‹è¯•**: æŸ¥çœ‹è¯„å®¡æŠ¥å‘Šï¼Œå¿…é¡»åŒ…å« UXã€ä¸šåŠ¡ã€å®‰å…¨ã€æŠ€æœ¯å››ä¸ªç»´åº¦çš„å®è´¨æ€§å»ºè®®ã€‚
4.  **POC æµ‹è¯•**: å¯¹æœªçŸ¥æŠ€æœ¯ç‚¹ï¼Œç³»ç»Ÿèƒ½è‡ªåŠ¨ç”Ÿæˆå¹¶å±•ç¤º POC ä»£ç è¿è¡Œç»“æœã€‚

---

> **Note**: æµç¨‹å›¾è§æ–‡æ¡£ `docs/ai_expert_review_board_workflow_optimized.md`ã€‚
